<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Restaurant: /home/joao/Documents/2ยบ_ano/projeto_SO_2/projeto-so-02/semaphore_restaurant/src/semSharedMemChef.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Restaurant
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">Implementation based on shared memory and semaphores</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('sem_shared_mem_chef_8c.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">semSharedMemChef.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Problem name: Restaurant.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &lt;sys/types.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;math.h&gt;</code><br />
<code>#include &lt;signal.h&gt;</code><br />
<code>#include &lt;sys/time.h&gt;</code><br />
<code>#include &lt;errno.h&gt;</code><br />
<code>#include &quot;<a class="el" href="prob_const_8h_source.html">probConst.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="prob_data_struct_8h_source.html">probDataStruct.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="logging_8h_source.html">logging.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="shared_data_sync_8h_source.html">sharedDataSync.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="semaphore_8h_source.html">semaphore.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="shared_memory_8h_source.html">sharedMemory.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:abfdef73b31082764734e4047cea9d400"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sem_shared_mem_chef_8c.html#abfdef73b31082764734e4047cea9d400">waitForOrder</a> ()</td></tr>
<tr class="memdesc:abfdef73b31082764734e4047cea9d400"><td class="mdescLeft">&#160;</td><td class="mdescRight">chefs wait for a food order.  <a href="#abfdef73b31082764734e4047cea9d400">More...</a><br /></td></tr>
<tr class="separator:abfdef73b31082764734e4047cea9d400"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ae4e9d13f6baad7aab7150e78547df0"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sem_shared_mem_chef_8c.html#a6ae4e9d13f6baad7aab7150e78547df0">processOrder</a> ()</td></tr>
<tr class="memdesc:a6ae4e9d13f6baad7aab7150e78547df0"><td class="mdescLeft">&#160;</td><td class="mdescRight">chef cooks, then delivers the food to the waiter  <a href="#a6ae4e9d13f6baad7aab7150e78547df0">More...</a><br /></td></tr>
<tr class="separator:a6ae4e9d13f6baad7aab7150e78547df0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ddf1224851353fc92bfbff6f499fa97"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sem_shared_mem_chef_8c.html#a0ddf1224851353fc92bfbff6f499fa97">main</a> (int argc, char *argv[])</td></tr>
<tr class="memdesc:a0ddf1224851353fc92bfbff6f499fa97"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main program.  <a href="#a0ddf1224851353fc92bfbff6f499fa97">More...</a><br /></td></tr>
<tr class="separator:a0ddf1224851353fc92bfbff6f499fa97"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:acfacf4afc970672f2e32e3d997e99add"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acfacf4afc970672f2e32e3d997e99add"></a>
static char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sem_shared_mem_chef_8c.html#acfacf4afc970672f2e32e3d997e99add">nFic</a> [51]</td></tr>
<tr class="memdesc:acfacf4afc970672f2e32e3d997e99add"><td class="mdescLeft">&#160;</td><td class="mdescRight">logging file name <br /></td></tr>
<tr class="separator:acfacf4afc970672f2e32e3d997e99add"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8807d215d2ee6d9779d76aeb1147430"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac8807d215d2ee6d9779d76aeb1147430"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sem_shared_mem_chef_8c.html#ac8807d215d2ee6d9779d76aeb1147430">shmid</a></td></tr>
<tr class="memdesc:ac8807d215d2ee6d9779d76aeb1147430"><td class="mdescLeft">&#160;</td><td class="mdescRight">shared memory block access identifier <br /></td></tr>
<tr class="separator:ac8807d215d2ee6d9779d76aeb1147430"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca4cf1b2018a791b8c1aefb7a25091bc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aca4cf1b2018a791b8c1aefb7a25091bc"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sem_shared_mem_chef_8c.html#aca4cf1b2018a791b8c1aefb7a25091bc">semgid</a></td></tr>
<tr class="memdesc:aca4cf1b2018a791b8c1aefb7a25091bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">semaphore set access identifier <br /></td></tr>
<tr class="separator:aca4cf1b2018a791b8c1aefb7a25091bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18908876d57a1ed0b6b4c3a48676b107"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a18908876d57a1ed0b6b4c3a48676b107"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sem_shared_mem_chef_8c.html#a18908876d57a1ed0b6b4c3a48676b107">lastGroup</a></td></tr>
<tr class="memdesc:a18908876d57a1ed0b6b4c3a48676b107"><td class="mdescLeft">&#160;</td><td class="mdescRight">group that requested cooking food <br /></td></tr>
<tr class="separator:a18908876d57a1ed0b6b4c3a48676b107"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35717cefd81dd12800127c29feea37a8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a35717cefd81dd12800127c29feea37a8"></a>
static <a class="el" href="struct_s_h_a_r_e_d___d_a_t_a.html">SHARED_DATA</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sem_shared_mem_chef_8c.html#a35717cefd81dd12800127c29feea37a8">sh</a></td></tr>
<tr class="memdesc:a35717cefd81dd12800127c29feea37a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">pointer to shared memory region <br /></td></tr>
<tr class="separator:a35717cefd81dd12800127c29feea37a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Problem name: Restaurant. </p>
<p>(implementation file)</p>
<p>Synchronization based on semaphores and shared memory. Implementation with SVIPC.</p>
<p>Definition of the operations carried out by the chef: </p><ul>
<li>waitOrder </li>
<li>processOrder</li>
</ul>
<dl class="section author"><dt>Author</dt><dd>Nuno Lau - December 2018 </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a0ddf1224851353fc92bfbff6f499fa97"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>argv</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Main program. </p>
<p>Its role is to generate the life cycle of one of intervening entities in the problem: the chef. </p>

</div>
</div>
<a class="anchor" id="a6ae4e9d13f6baad7aab7150e78547df0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void processOrder </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>chef cooks, then delivers the food to the waiter </p>
<p>The chef takes some time to cook and signals the waiter that food is ready (this may only happen when waiter is available) then updates its state. The internal state should be saved. </p>

</div>
</div>
<a class="anchor" id="abfdef73b31082764734e4047cea9d400"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void waitForOrder </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>chefs wait for a food order. </p>
<p>The chef waits for the food request that will be provided by the waiter. Updates its state and saves internal state. Received order should be acknowledged. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="sem_shared_mem_chef_8c.html">semSharedMemChef.c</a></li>
    <li class="footer">Generated on Fri Dec 28 2018 10:59:39 for Restaurant by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
